{
	"name": "Event sheet 1",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 991998446113933
				}
			],
			"actions": [
				{
					"id": "load-stylesheet",
					"objectClass": "Browser",
					"sid": 802455452479907,
					"parameters": {
						"url": "\"leaflet.css\""
					}
				},
				{
					"id": "load-stylesheet",
					"objectClass": "Browser",
					"sid": 164133408986422,
					"disabled": true,
					"parameters": {
						"url": "\"mystyle.css\""
					}
				},
				{
					"type": "script",
					"script": "await runtime.assets.loadScripts(\"leaflet.js\");\n\nconst myDiv = document.createElement(\"div\");\nmyDiv.id = 'mapid';\ndocument.body.appendChild(myDiv);\n\nvar mymap = L.map('mapid').setView([51.505, -0.09], 13);\n\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n}).addTo(mymap);\n\nvar circle = L.circle([51.508, -0.11], {\n    color: 'red',\n    fillColor: '#f03',\n    fillOpacity: 0.5,\n    radius: 500\n}).addTo(mymap);\n\nvar polygon = L.polygon([\n    [51.509, -0.08],\n    [51.503, -0.06],\n    [51.51, -0.047]\n]).addTo(mymap);\n\ncircle.bindPopup(\"I am a circle.\");\npolygon.bindPopup(\"I am a polygon.\");\n"
				}
			],
			"sid": 372922741594579
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 857269378092206,
					"parameters": {
						"interval-seconds": "1/24"
					}
				}
			],
			"actions": [
				{
					"type": "script",
					"script": "const map = runtime.objects.Map.getFirstInstance();\nconst layer = runtime.layout.getLayer(map.layer.name);\n\nconst boundingBox = map.getBoundingBox();\nconst topLeft = layer.layerToCssPx(boundingBox.left, boundingBox.top);\nconst bottomRight = layer.layerToCssPx(boundingBox.right, boundingBox.bottom);\n\nconst leaflet = document.getElementById(\"mapid\");\nleaflet.style.position = \"absolute\";\n\nleaflet.style.left = topLeft[0] + \"px\";\nleaflet.style.top = topLeft[1] + \"px\";\n\nleaflet.style.width = (bottomRight[0] - topLeft[0]) + \"px\";\nleaflet.style.height = (bottomRight[1] - topLeft[1]) + \"px\";\n\n"
				}
			],
			"sid": 914789750537955
		}
	],
	"sid": 993363859908735
}