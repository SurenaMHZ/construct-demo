{
	"name": "Event sheet 1",
	"events": [
		{
			"eventType": "variable",
			"name": "player_Moved",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 912029115233356
		},
		{
			"eventType": "variable",
			"name": "move_immediate",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 624890405201225
		},
		{
			"eventType": "variable",
			"name": "codeUP",
			"type": "number",
			"initialValue": "38",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 497149296966768
		},
		{
			"eventType": "variable",
			"name": "codeRIGHT",
			"type": "number",
			"initialValue": "39",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 622277689330176
		},
		{
			"eventType": "variable",
			"name": "codeDOWN",
			"type": "number",
			"initialValue": "40",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 122304811300310
		},
		{
			"eventType": "variable",
			"name": "codeLEFT",
			"type": "number",
			"initialValue": "37",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 773216974192514
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 835917673531912
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "Title",
					"sid": 898193685937976,
					"parameters": {
						"text": "\"[b]\" &projectname & \"[/b]  [size=8][i](version: \" & projectversion & \")[/i][/size]\""
					}
				},
				{
					"id": "set-solid-collision-filter",
					"objectClass": "Player",
					"sid": 913963026981556,
					"parameters": {
						"mode": "inclusive",
						"tags": "\"wall\""
					}
				},
				{
					"id": "set-solid-collision-filter",
					"objectClass": "Player",
					"sid": 819218193455468,
					"parameters": {
						"mode": "exclusive",
						"tags": "\"enemy\""
					}
				}
			],
			"sid": 162361243033593
		},
		{
			"functionName": "Simulate_Control",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "UID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 549470593365216
				},
				{
					"name": "Direction",
					"type": "string",
					"initialValue": "NONE",
					"comment": "",
					"sid": 720745144547354
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "SimulateControl_WithDirection(localVars.UID, localVars.Direction);"
				}
			],
			"sid": 956118499578154
		},
		{
			"functionName": "Simulate_Control_Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "UID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 744507609240487
				},
				{
					"name": "inputCode",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 482531443435425
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "const result = SetGridPosition_WithInputCode(localVars.UID, localVars.inputCode, {codeUP: g_runtime.globalVars.codeUP, codeRIGHT: g_runtime.globalVars.codeRIGHT, codeDOWN: g_runtime.globalVars.codeDOWN, codeLEFT: g_runtime.globalVars.codeLEFT}, g_runtime.globalVars.move_immediate == 1);\ng_runtime.setReturnValue(result ? 1 : 0);"
				}
			],
			"sid": 786282088818935
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-key-pressed",
					"objectClass": "Keyboard",
					"sid": 441648708695196
				}
			],
			"actions": [],
			"sid": 504015288757959,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 924309748603568,
							"parameters": {
								"variable": "player_Moved",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 471054392783365,
							"parameters": {
								"variable": "player_Moved",
								"value": "Functions.Simulate_Control_Player(Player.UID, Keyboard.LastKeyCode)"
							}
						}
					],
					"sid": 724418833799304
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 797455328476078,
					"parameters": {
						"variable": "player_Moved",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "trigger-once-while-true",
					"objectClass": "System",
					"sid": 909084888700217
				}
			],
			"actions": [
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 640979700664571,
					"parameters": {
						"seconds": "0.1"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 246861900333864
				}
			],
			"sid": 352535072248129,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 309219361093029,
							"parameters": {
								"object": "Enemy"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Enemy",
							"sid": 405561269145834,
							"parameters": {
								"instance-variable": "LastDirection",
								"value": "Functions.Simulate_Control_Enemy(Enemy.UID, Player.UID, Enemy.Priority, Enemy.LastDirection, move_immediate)"
							}
						}
					],
					"sid": 666353181295978
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 303551673494347,
							"parameters": {
								"variable": "player_Moved",
								"value": "0"
							}
						}
					],
					"sid": 790824802704377
				}
			]
		},
		{
			"functionName": "Simulate_Control_Enemy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "string",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "UID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 359792216629410
				},
				{
					"name": "targetUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 970626835725314
				},
				{
					"name": "priority",
					"type": "string",
					"initialValue": "vertical",
					"comment": "",
					"sid": 471992950630990
				},
				{
					"name": "lastDirection",
					"type": "string",
					"initialValue": "NONE",
					"comment": "",
					"sid": 473596366862953
				},
				{
					"name": "immediate",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 830962299095570
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "g_runtime.setReturnValue(SimulateControl_PointToTarget (localVars.UID, localVars.targetUID, localVars.priority, localVars.lastDirection, localVars.immediate));"
				}
			],
			"sid": 254524230800315
		}
	],
	"sid": 901622873055117
}